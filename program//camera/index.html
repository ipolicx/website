<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
<title>Camera - IP</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta property="og:type" content="article">
<meta property="og:title" content="Camera">
<meta property="og:url" content="https://www.policx.com/program//camera/index.html">
<meta property="og:site_name" content="IP">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://www.policx.com/post-images/banner.jpg">
<meta property="og:updated_time" content="2019-07-18T06:22:40.947Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Camera">
<meta name="twitter:image" content="https://www.policx.com/post-images/banner.jpg">







<link rel="icon" href="/images/favicon.png">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-142191817-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-142191817-1');
</script>


    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    


<link rel="stylesheet" href="/css/style.css">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3671867345973568",
          enable_page_level_ads: true
     });
</script>
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.gif" alt="Camera" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">主页</a>
                
                <a class="navbar-item" href="/archives">归档</a>
                
                <a class="navbar-item" href="/categories">分类</a>
                
                <a class="navbar-item" href="/tags">标签</a>
                
                <a class="navbar-item" href="/message">留言板</a>
                
                <a class="navbar-item" href="/about">关于</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Instagram" href="https://www.instagram.com/aragakiyui_fanspage/">
                        
                        <i class="fab fa-instagram"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <!-- 布局 -->
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-6-tablet is-6-desktop is-9-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-image">
        <span class="image is-7by1">
            <img class="thumbnail" src="/post-images/banner.jpg" alt="Camera">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2016-06-18T01:48:48.000Z">2016-06-18</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/program/">program</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    18 分钟 读完 (大约 2672 个字)
                </span>
                
                
                <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span>次访问
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                Camera
            
        </h1>
        <div class="content">
            <ul>
<li><a id="more"></a>
<h1 id="相机原理"><a href="#相机原理" class="headerlink" title="相机原理"></a>相机原理</h1><h2 id="感光度-ISO"><a href="#感光度-ISO" class="headerlink" title="感光度(ISO)"></a>感光度(ISO)</h2>ISO也叫胶卷速度，衡量图像传感器对光的敏感程度。亮的时候需要的ISO就越小，暗的时候相反ISO就高噪点会多。</li>
</ul>
<h2 id="光圈"><a href="#光圈" class="headerlink" title="光圈"></a>光圈</h2><p>光圈用来衡量到达图像感应器的光所通过的通孔大小。iPhone6的光圈值是f/2.2，2.2就是表示镜头焦距和光圈的有效直径比例。</p>
<h2 id="对焦"><a href="#对焦" class="headerlink" title="对焦"></a>对焦</h2><p>将离相机一定范围内物体渲染清晰，太近太远会模糊这种情况叫做失焦。</p>
<h1 id="保存获取文件"><a href="#保存获取文件" class="headerlink" title="保存获取文件"></a>保存获取文件</h1><p>关于Core Image处理RAW格式可以参考CoreImage/CIRAWFilter.h，以及WWDC上的讲座WWDC 2014 session 514 <a href="https://developer.apple.com/videos/wwdc/2014/#514" target="_blank" rel="noopener">https://developer.apple.com/videos/wwdc/2014/#514</a></p>
<h2 id="如何处理图像数据"><a href="#如何处理图像数据" class="headerlink" title="如何处理图像数据"></a>如何处理图像数据</h2><p>处理位图的类是UIImage，CGImage(Core Graphics)和CIImage(Core Image)。从NSData得到UIImage使用imageWithContentsOfFiles:方法。</p>
<h2 id="从相机捕捉图像"><a href="#从相机捕捉图像" class="headerlink" title="从相机捕捉图像"></a>从相机捕捉图像</h2><ul>
<li>相比较UIImagePickerController使用AVFoundation能够直接访问相机，提供完全的操作权，比如用编程方式更改硬件参数，或者操纵实时预览图。</li>
<li>先创建AVCaptureStillImageOutput对象，使用captureStillImageAsynchronouslyFromConnection: completionHandler: 方法。</li>
<li>使用AVCaptureStillImageOutput中的类方法jpegStillImageNSDataRepresentation:将其转换成NSData对象，接着用imageWithData:得到一个UIImage</li>
<li>过程中可以调节很多参数例如曝光，聚焦，光补偿，闪光灯，ISO等。所有这些设置都会被应用到一个AVCaptureDevice里。</li>
</ul>
<h3 id="AVFoundation相关类"><a href="#AVFoundation相关类" class="headerlink" title="AVFoundation相关类"></a>AVFoundation相关类</h3><p>可以通过以下类访问来自相机设备原始数据并控制他们的组件。</p>
<ul>
<li>AVCaptureDevice：控制硬件特性，比如镜头位置，曝光，闪光灯</li>
<li>AVCaptureDeviceInput：设备数据</li>
<li>AVCaptureOutput：抽象类包括了三种静态图片捕捉类</li>
<li><ul>
<li>AVCaptureStillImageOutput：用于捕捉静态图片</li>
</ul>
</li>
<li><ul>
<li>AVCaptureMetadataOutput：启用检测人脸和二维码</li>
</ul>
</li>
<li><ul>
<li>AVCaptureVideoOutput：实时预览图提供原始帧</li>
</ul>
</li>
<li>AVCaptureSession：管理输入输出之间数据流，以及在出现问题时生成运行时错误。</li>
<li>AVCaptureVideoPreviewLayer：CALayer的子类，用于自动显示相机产生的实时图像，</li>
</ul>
<h3 id="捕捉设置"><a href="#捕捉设置" class="headerlink" title="捕捉设置"></a>捕捉设置</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">//先需要一个AVCaptureSession对象</span><br><span class="line">let session = AVCaptureSession()</span><br><span class="line"></span><br><span class="line">//接着遍历所能提供视频数据设备并检查position属性。</span><br><span class="line">let availableCameraDevices = AVCaptureDevice.devicesWithMediaType(AVMediaTypeVideo)</span><br><span class="line">for device in availableCameraDevices as [AVCaptureDevice] &#123;</span><br><span class="line">     if device.position == .Back &#123;</span><br><span class="line">          backCameraDevice = device</span><br><span class="line">     &#125;</span><br><span class="line">     else if device.position == .Front &#123;</span><br><span class="line">          frontCameraDevice = device</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//发现合适的相机设备，就可以获得相关的AVCaptureDeviceInput对象。将它设置为session输入：</span><br><span class="line">var error:NSError?</span><br><span class="line"></span><br><span class="line">let possibleCameraInput: AnyObject? = AVCaptureDeviceInput.deviceInputWithDevice(backCameraDevice, error: &amp;error)</span><br><span class="line">if let backCameraInput = possibleCameraInput as? AVCaptureDeviceInput &#123;</span><br><span class="line">     if self.session.canAddInput(backCameraInput) &#123;</span><br><span class="line">          self.session.addInput(backCameraInput)</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line">//第一次调用AVCaptureDeviceInput.deviceInputWithDevice()会出发系统提示，向用户请求访问相机。</span><br><span class="line">let authorizationStatus = AVCaptureDevice.authorizationStatusForMediaType(AVMediaTypeVideo)</span><br><span class="line">switch authorizationStatus &#123;</span><br><span class="line">case .NotDetermined:</span><br><span class="line">     // 许可对话没有出现，发起授权许可</span><br><span class="line">     AVCaptureDevice.requestAccessForMediaType(AVMediaTypeVideo,</span><br><span class="line">          completionHandler: &#123; (granted:Bool) -&gt; Void in</span><br><span class="line">          if granted &#123;</span><br><span class="line">               // 继续</span><br><span class="line">          &#125;</span><br><span class="line">          else &#123;</span><br><span class="line">               // 用户拒绝，无法继续</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;)</span><br><span class="line">case .Authorized:</span><br><span class="line">     // 继续</span><br><span class="line">case .Denied, .Restricted:</span><br><span class="line">     // 用户明确地拒绝授权，或者相机设备无法访问</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//允许访问后的处理，有两种方法显示来自相机的图像流。</span><br><span class="line">//第一种，生成一个带有AVCaptureVideoPreviewLayer的view。用capture session做初始参数。AVCaptureVideoPreviewLayer会自动的显示来自相机输出</span><br><span class="line">previewLayer = AVCaptureVideoPreviewLayer.layerWithSession(session) as AVCaptureVideoPreviewLayer</span><br><span class="line">previewLayer.frame = view.bounds</span><br><span class="line">view.layer.addSublayer(previewLayer)</span><br><span class="line"></span><br><span class="line">//第二种，从输出数据流捕捉单一图像帧，使用OpenGL手动显示在view上。这种方法适用于想实时预览滤镜效果的情况。</span><br><span class="line">glContext = EAGLContext(API: .OpenGLES2) //</span><br><span class="line">glView = GLKView(frame: viewFrame, context: glContext)</span><br><span class="line">ciContext = CIContext(EAGLContext: glContext)</span><br><span class="line">//AVCaptureVideoOutput</span><br><span class="line">videoOutput = AVCaptureVideoDataOutput()</span><br><span class="line">videoOutput.setSampleBufferDelegate(self, queue: dispatch_queue_create(&quot;sample buffer delegate&quot;, DISPATCH_QUEUE_SERIAL))</span><br><span class="line">if session.canAddOutput(self.videoOutput) &#123;</span><br><span class="line">session.addOutput(self.videoOutput)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建完AVCaptureVideoDataOutput后需要通过代理captureOutput(_:didOutputSampleBuffer:fromConnection:)获得所有图像帧，将他们绘制在GLKView中。</span><br><span class="line">func captureOutput(captureOutput: AVCaptureOutput!, didOutputSampleBuffer sampleBuffer: CMSampleBuffer!, fromConnection connection: AVCaptureConnection!) &#123;</span><br><span class="line">     let pixelBuffer = CMSampleBufferGetImageBuffer(sampleBuffer)</span><br><span class="line">     let image = CIImage(CVPixelBuffer: pixelBuffer)</span><br><span class="line">     if glContext != EAGLContext.currentContext() &#123;</span><br><span class="line">          EAGLContext.setCurrentContext(glContext)</span><br><span class="line">     &#125;</span><br><span class="line">     glView.bindDrawable()</span><br><span class="line">     ciContext.drawImage(image, inRect:image.extent(), fromRect: image.extent())</span><br><span class="line">     glView.display()</span><br><span class="line">&#125;</span><br><span class="line">//注意的问题， AVCaptureVideoPreviewLayer会自动处理样本旋转90度的情况。</span><br><span class="line"></span><br><span class="line">//使用AVCaptureStillImageOutput捕捉静态图片。</span><br><span class="line">stillCameraOutput = AVCaptureStillImageOutput()</span><br><span class="line">if self.session.canAddOutput(self.stillCameraOutput) &#123;</span><br><span class="line">     self.session.addOutput(self.stillCameraOutput)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//配置，为对象找最合适的配置。有两个方法，简单的方法是使用session preset</span><br><span class="line">session.sessionPreset = AVCaptureSessionPresetPhoto //AVCaptureSessionPresetPhoto会为照片捕捉选择最合适的配置，允许使用最高的感光度（ISO）和曝光时间。基于相位检测（phase detection）的自动对焦，以及输出全分辨率的JPEG格式压缩的静态图片。使用AVCaptureDeviceFormat这个类可以有更多的操控，比如静态分辨率，视频预览分辨率，自动对焦类型，感光度和曝光时间限制，支持格式都在AVCaptureDevice.formats中，可以赋值给AVCaptureDevice的activeFormat。</span><br></pre></td></tr></table></figure>

<h3 id="操作相机"><a href="#操作相机" class="headerlink" title="操作相机"></a>操作相机</h3><p>到了iOS8后可以对所有参数进行手动调整了。包括镜头光圈。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//先启动相机</span><br><span class="line">sessionQueue = dispatch_queue_create(&quot;com.example.camera.capture_session&quot;, DISPATCH_QUEUE_SERIAL)</span><br><span class="line">dispatch_async(sessionQueue) &#123; () -&gt; Void in</span><br><span class="line">     self.session.startRunning()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//建议将所有block调用操作和配置分配到后台串行队列中。在相机设备改变一些参数前先锁定，改完再解锁</span><br><span class="line">var error:NSError?</span><br><span class="line">if currentDevice.lockForConfiguration(&amp;error) &#123;</span><br><span class="line">     // 锁定成功，继续配置</span><br><span class="line">     // currentDevice.unlockForConfiguration()</span><br><span class="line">&#125;</span><br><span class="line">else &#123;</span><br><span class="line">     // 出错，相机可能已经被锁</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="对焦-1"><a href="#对焦-1" class="headerlink" title="对焦"></a>对焦</h3><p>AVCaptureFocusMode枚举描述可用对焦模式</p>
<ul>
<li>locked：镜片固定位置</li>
<li>AutoFocus：先自动对焦一次就处于Locked模式</li>
<li>ContinuousAutoFocus：场景改变自动重新对焦到画面中心点</li>
</ul>
<p>对焦可以使用UISlider设置，类似单反对焦环。手动对焦有个辅助标识指向清晰区域，可以通过对焦峰值（focus peaking）将对焦区域高亮显示的方式，方法是使用阈值边缘（threshold edge）滤镜，自定义CIFilter或GPUImageThresholdEdgeDetectionFilter，并调用AVCaptureAudioDataOutputSampleBufferDelegate下的captureOutput(_:didOutputSampleBuffer:fromConnection:)方法将它覆盖到实时预览图上。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">//设置对焦模式需要在锁定后</span><br><span class="line">let focusMode:AVCaptureFocusMode = ...</span><br><span class="line">if currentCameraDevice.isFocusModeSupported(focusMode) &#123;</span><br><span class="line">     ... // 锁定以进行配置</span><br><span class="line">     currentCameraDevice.focusMode = focusMode</span><br><span class="line">     ... // 解锁</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//AutoFocus会让屏幕中心为清晰区，也可以通过预览图上点击手势改变这个区域。</span><br><span class="line">var pointInPreview = focusTapGR.locationInView(focusTapGR.view)</span><br><span class="line">var pointInCamera = previewLayer.captureDevicePointOfInterestForPoint(pointInPreview)</span><br><span class="line">...// 锁定，配置</span><br><span class="line">// 设置感兴趣的点</span><br><span class="line">currentCameraDevice.focusPointOfInterest = pointInCamera</span><br><span class="line">// 在设置的点上切换成自动对焦</span><br><span class="line">currentCameraDevice.focusMode = .AutoFocus</span><br><span class="line">...// 解锁</span><br><span class="line"></span><br><span class="line">//iOS8中可以通过选项移动镜片的位置</span><br><span class="line">... // 锁定，配置</span><br><span class="line">var lensPosition:Float = ... // 0.0 到 1.0的float</span><br><span class="line">currentCameraDevice.setFocusModeLockedWithLensPosition(lensPosition) &#123;</span><br><span class="line">     (timestamp:CMTime) -&gt; Void in</span><br><span class="line">     // timestamp 对应于应用了镜片位置的第一张图像缓存区</span><br><span class="line">&#125;</span><br><span class="line">... // 解锁</span><br></pre></td></tr></table></figure>

<h3 id="曝光"><a href="#曝光" class="headerlink" title="曝光"></a>曝光</h3><p>曝光档数范围在minExposureTargetBias和maxExposureTargetBias之间。0为默认没有补偿</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var exposureBias:Float = ... // 在 minExposureTargetBias 和 maxExposureTargetBias 之间的值</span><br><span class="line">... // 锁定，配置</span><br><span class="line">currentDevice.setExposureTargetBias(exposureBias) &#123; (time:CMTime) -&gt; Void in</span><br><span class="line">&#125;</span><br><span class="line">... // 解锁</span><br><span class="line"></span><br><span class="line">//设置ISO和曝光时间</span><br><span class="line">var activeFormat = currentDevice.activeFormat</span><br><span class="line">var duration:CTime = ... //在activeFormat.minExposureDuration 和 activeFormat.maxExposureDuration 之间的值，或用 AVCaptureExposureDurationCurrent 表示不变</span><br><span class="line">var iso:Float = ... // 在 activeFormat.minISO 和 activeFormat.maxISO 之间的值，或用 AVCaptureISOCurrent 表示不变</span><br><span class="line">... // 锁定，配置</span><br><span class="line">currentDevice.setExposureModeCustomWithDuration(duration, ISO: iso) &#123; (time:CMTime) -&gt; Void in</span><br><span class="line">&#125;</span><br><span class="line">... // 解锁</span><br><span class="line"></span><br><span class="line">//检验曝光是否准确可以通过KVO观察AVCaptureDevice的exposureTargetOffset属性。</span><br></pre></td></tr></table></figure>

<h3 id="白平衡"><a href="#白平衡" class="headerlink" title="白平衡"></a>白平衡</h3><p>iOS8可以手动控制白平衡。可以通过开尔文所表示的温度来调节色温和色彩。典型色温值在2000-3000K（类似蜡烛或灯泡的暖光源）到8000K（纯净的蓝色天空）之间。色彩范围从最小的-150（偏绿）到150（偏品红）。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var incandescentLightCompensation = 3_000</span><br><span class="line">var tint = 0 // 不调节</span><br><span class="line">let temperatureAndTintValues = AVCaptureWhiteBalanceTemperatureAndTintValues(temperature: incandescentLightCompensation, tint: tint)</span><br><span class="line">var deviceGains = currentCameraDevice.deviceWhiteBalanceGainsForTemperatureAndTintValues(temperatureAndTintValues)</span><br><span class="line">... // 锁定，配置</span><br><span class="line">currentCameraDevice.setWhiteBalanceModeLockedWithDeviceWhiteBalanceGains(deviceGains) &#123;</span><br><span class="line">     (timestamp:CMTime) -&gt; Void in</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line">... // 解锁</span><br></pre></td></tr></table></figure>

<h3 id="实时人脸检测"><a href="#实时人脸检测" class="headerlink" title="实时人脸检测"></a>实时人脸检测</h3><p>使用AVCaptureMetadataOutput可以检测人脸和二维码。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var metadataOutput = AVCaptureMetadataOutput()</span><br><span class="line">metadataOutput.setMetadataObjectsDelegate(self, queue: self.sessionQueue)</span><br><span class="line">if session.canAddOutput(metadataOutput) &#123;</span><br><span class="line">     session.addOutput(metadataOutput)</span><br><span class="line">&#125;</span><br><span class="line">metadataOutput.metadataObjectTypes = [AVMetadataObjectTypeFace]</span><br><span class="line"></span><br><span class="line">func captureOutput(captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [AnyObject]!, fromConnection connection: AVCaptureConnection!) &#123;</span><br><span class="line">     for metadataObject in metadataObjects as [AVMetadataObject] &#123;</span><br><span class="line">          if metadataObject.type == AVMetadataObjectTypeFace &#123;</span><br><span class="line">               var transformedMetadataObject = previewLayer.transformedMetadataObjectForMetadataObject(metadataObject)</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="捕捉静态图片"><a href="#捕捉静态图片" class="headerlink" title="捕捉静态图片"></a>捕捉静态图片</h3><p>捕捉高分辨率图像调用captureStillImageAsynchronouslyFromConnection(connection, completionHandler)。在视觉上反应图片捕捉何时开始以及何时结束可以使用KVO来观察AVCaptureStillImageOutput的isCapturingStillImage属性。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">dispatch_async(sessionQueue) &#123; () -&gt; Void in</span><br><span class="line"></span><br><span class="line">     let connection = self.stillCameraOutput.connectionWithMediaType(AVMediaTypeVideo)</span><br><span class="line"></span><br><span class="line">     // 将视频的旋转与设备同步</span><br><span class="line">     connection.videoOrientation = AVCaptureVideoOrientation(rawValue: UIDevice.currentDevice().orientation.rawValue)!</span><br><span class="line"></span><br><span class="line">     self.stillCameraOutput.captureStillImageAsynchronouslyFromConnection(connection) &#123;</span><br><span class="line">          (imageDataSampleBuffer, error) -&gt; Void in</span><br><span class="line"></span><br><span class="line">          if error == nil &#123;</span><br><span class="line"></span><br><span class="line">               // 如果使用 session .Photo 预设，或者在设备输出设置中明确进行了设置</span><br><span class="line">               // 我们就能获得已经压缩为JPEG的数据</span><br><span class="line"></span><br><span class="line">               let imageData = AVCaptureStillImageOutput.jpegStillImageNSDataRepresentation(imageDataSampleBuffer)</span><br><span class="line"></span><br><span class="line">               // 样本缓冲区也包含元数据，我们甚至可以按需修改它</span><br><span class="line"></span><br><span class="line">               let metadata:NSDictionary = CMCopyDictionaryOfAttachments(nil, imageDataSampleBuffer, CMAttachmentMode(kCMAttachmentMode_ShouldPropagate)).takeUnretainedValue()</span><br><span class="line"></span><br><span class="line">               if let image = UIImage(data: imageData) &#123;</span><br><span class="line">                    // 保存图片，或者做些其他想做的事情</span><br><span class="line">                    ...</span><br><span class="line">               &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          else &#123;</span><br><span class="line">               NSLog(&quot;error while capturing still image: \(error)&quot;)</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="分级捕捉"><a href="#分级捕捉" class="headerlink" title="分级捕捉"></a>分级捕捉</h3><p>通过设定-1，0，-1三个不同曝光档数用HDR算法合并成一张。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">dispatch_async(sessionQueue) &#123; () -&gt; Void in</span><br><span class="line">     let connection = self.stillCameraOutput.connectionWithMediaType(AVMediaTypeVideo)</span><br><span class="line">     connection.videoOrientation = AVCaptureVideoOrientation(rawValue: UIDevice.currentDevice().orientation.rawValue)!</span><br><span class="line"></span><br><span class="line">     var settings = [-1.0, 0.0, 1.0].map &#123;</span><br><span class="line">(bias:Float) -&gt; AVCaptureAutoExposureBracketedStillImageSettings in</span><br><span class="line"></span><br><span class="line">          AVCaptureAutoExposureBracketedStillImageSettings.autoExposureSettingsWithExposureTargetBias(bias)</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     var counter = settings.count</span><br><span class="line"></span><br><span class="line">     self.stillCameraOutput.captureStillImageBracketAsynchronouslyFromConnection(connection, withSettingsArray: settings) &#123;</span><br><span class="line">(sampleBuffer, settings, error) -&gt; Void in</span><br><span class="line"></span><br><span class="line">          ...</span><br><span class="line">          // 保存 sampleBuffer(s)</span><br><span class="line"></span><br><span class="line">          // 当计数为0，捕捉完成</span><br><span class="line">          counter--</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="操作图像"><a href="#操作图像" class="headerlink" title="操作图像"></a>操作图像</h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">//将两个图片拼接，并在图片上加个区域强调</span><br><span class="line">-(UIImage*)composeStereogramLeft:(UIImage *)leftImage right:(UIImage *)rightImage</span><br><span class="line">&#123;</span><br><span class="line">     float w = leftImage.size.width;</span><br><span class="line">     float h = leftImage.size.height;</span><br><span class="line">     UIGraphicsBeginImageContext(CGSizeMake(w * 2.0, h + 32.0));</span><br><span class="line">     [leftImage drawAtPoint:CGPointMake(0.0, 32.0)];</span><br><span class="line">     [rightImage drawAtPoint:CGPointMake(w, 32.0)];</span><br><span class="line">     float leftCircleX = (w / 2.0) - 8.0;</span><br><span class="line">     float rightCircleX = leftCircleX + w;</span><br><span class="line">     float circleY = 8.0;</span><br><span class="line">     [[UIColor blackColor] setFill];</span><br><span class="line">     UIRectFill(CGRectMake(0.0, 0.0, w * 2.0, 32.0));</span><br><span class="line"></span><br><span class="line">     [[UIColor whiteColor] setFill];</span><br><span class="line">     CGRect leftRect = CGRectMake(leftCircleX, circleY, 16.0, 16.0);</span><br><span class="line">     CGRect rightRect = CGRectMake(rightCircleX, circleY, 16.0, 16.0);</span><br><span class="line">     UIBezierPath *path = [UIBezierPath bezierPathWithOvalInRect:leftRect];</span><br><span class="line">     [path appendPath:[UIBezierPath bezierPathWithOvalInRect:rightRect]];</span><br><span class="line">     [path fill];</span><br><span class="line">     UIImage *savedImg = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">     UIGraphicsEndImageContext();</span><br><span class="line">     return savedImg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//使用CGBitmapContextCreate创建位图绘制环境，然后可以遍历位图获得各个颜色通道值，维持一张图片中的绿色和蓝色的原值，然后将蓝色和绿色的值按一定方式计算后赋值给另一张图片的红色值。</span><br><span class="line">//可以访问实际像素的所有信息，做任何处理，不过Core Image也会提供一些滤镜方便使用。</span><br><span class="line">UInt8 *rightPtr = rightBitmap;</span><br><span class="line">UInt8 *leftPtr = leftBitmap;</span><br><span class="line">UInt8 r1, g1, b1;</span><br><span class="line">UInt8 r2, g2, b2;</span><br><span class="line">UInt8 ra, ga, ba;</span><br><span class="line"></span><br><span class="line">for (NSUInteger idx = 0; idx &lt; bitmapByteCount; idx += 4) &#123;</span><br><span class="line">     r1 = rightPtr[0]; g1 = rightPtr[1]; b1 = rightPtr[2];</span><br><span class="line">     r2 = leftPtr[0]; g2 = leftPtr[1]; b2 = leftPtr[2];</span><br><span class="line"></span><br><span class="line">     // r1/g1/b1 右侧图像，用于计算合并值</span><br><span class="line">     // r2/g2/b2 左侧图像，用于被合并值赋值</span><br><span class="line">     // ra/ga/ba 合并后的像素</span><br><span class="line"></span><br><span class="line">     ra = 0.7 * g1 + 0.3 * b1;</span><br><span class="line">     ga = b2;</span><br><span class="line">     ba = b2;</span><br><span class="line"></span><br><span class="line">     leftPtr[0] = ra;</span><br><span class="line">     leftPtr[1] = ga;</span><br><span class="line">     leftPtr[2] = ba;</span><br><span class="line">     rightPtr += 4; // 指向下一个像素 (4字节, 包括透明度 alpha 值)</span><br><span class="line">     leftPtr += 4;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CGImageRef composedImage = CGBitmapContextCreateImage(_leftContext);</span><br><span class="line">UIImage *retval = [UIImage imageWithCGImage:composedImage];</span><br><span class="line">CGImageRelease(composedImage);</span><br><span class="line">return retval;</span><br></pre></td></tr></table></figure>

<h2 id="元数据"><a href="#元数据" class="headerlink" title="元数据"></a>元数据</h2><p>存储图像信息的标准格式是Exif（可交换图像文件格式）。通常会保存照相时间日期，快门速度和光圈，设备支持还会包括GPS坐标。可以使用CGImageSourceCopyPropertiesAtIndex方法访问Exif信息。</p>
<p><a href="https://github.com/ming1016/study/wiki" target="_blank" rel="noopener"><img src="https://i.loli.net/2019/07/17/5d2ecfa7074a070306.jpg" alt="作者"></a></p>

            
            <p><a href="https://promotion.aliyun.com/ntms/act/qwbk.html?userCode=71fu1n7e" " target="_blank" rel="noopener"><img src="https://i.loli.net/2019/07/17/5d2df866c36e974256.png" alt></a></p>
            
        </div>
        
        
        
        <div class="social-share"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css">
<script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3>
        <div class="buttons is-centered">
            
                
<a class="button is-info donate">
    <span class="icon is-small">
        <i class="fab fa-alipay"></i>
    </span>
    <span>支付宝</span>
    <div class="qrcode"><img src="/images/alipay.png" alt="支付宝"></div>
</a>

                
                
<a class="button is-success donate">
    <span class="icon is-small">
        <i class="fab fa-weixin"></i>
    </span>
    <span>微信</span>
    <div class="qrcode"><img src="/images/wechat.jpg" alt="微信"></div>
</a>

                
                <!-- Visit https://www.paypal.com/donate/buttons/ to get your donate button -->

<a class="button is-warning donate" onclick="document.getElementById(&#39;paypal-donate-form&#39;).submit()">
    <span class="icon is-small">
        <i class="fab fa-paypal"></i>
    </span>
    <span>Paypal</span>
</a>
<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" id="paypal-donate-form">
    <input type="hidden" name="cmd" value="_donations">
    <input type="hidden" name="business" value="buy@policx.com">
    <input type="hidden" name="currency_code" value="USD">
</form>

                
        </div>
    </div>
</div>



<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/program//gpu/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">GPU处理图像</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/program//uicollectionview/">
                <span class="level-item">UICollectionView</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">评论</h3>
        <!-- 
<script>
    var disqus_config = function () {
        this.page.url = 'https://www.policx.com/program//camera/';
        this.page.identifier = 'program//camera/';
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'policx' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div> -->

<link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
<script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>

<div id="disqus_thread"></div>

<script>
    var dsqjs = new DisqusJS({
        shortname: 'policx',
        siteName: '',
        identifier: '',
        url: '',
        title: '',
        api: 'https://disqus.skk.moe/disqus/',
        apikey: 'yKpZ790nbB7UbaNpYxRZogQQi7HmsXTlv4XxHbvM8TEk7tdrddQKwPILq4WScQBz',
        admin: '',
        adminLabel: ''
    });
</script>
    </div>
</div>
</div>
                

<!-- 粘贴的部分 -->

<!-- 修改，可选保留的栏 -->




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
    
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/avatar.png" alt="policx">
                    
                    
                    <p class="is-size-4 is-block">
                        policx
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        庙堂高，江湖远
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Helsinki-Suomi</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        98
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        5
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        8
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://996.icu" target="_blank">
                关注我</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://developer.apple.com/">
                
                <i class="fab fa-apple"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Facebook" href="https://docs.python.org/zh-cn/3.7/whatsnew/3.7.html">
                
                <i class="fab fa-python"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Twitter" href="https://nodejs.org/zh-cn/">
                
                <i class="fab fa-node-js"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Dribbble" href="https://developer.android.google.cn/">
                
                <i class="fab fa-android"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="RSS" href="/atom.xml">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
    
    
    
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/Django/" style="font-size: 12.5px;">Django</a> <a href="/tags/Hexo/" style="font-size: 12.5px;">Hexo</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/Python/" style="font-size: 17.5px;">Python</a> <a href="/tags/git/" style="font-size: 12.5px;">git</a> <a href="/tags//" style="font-size: 20px;"></a>
    </div>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- tag -->
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3671867345973568" data-ad-slot="1578507149" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

    
    

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="http://t.cn/AiOmxPZU" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Markdown</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">t.cn</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://t.cn/Re0wbzP" target="_blank">
                    <span class="level-left">
                        <span class="level-item">源代码图片</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">t.cn</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://t.cn/RLs3BSV" target="_blank">
                    <span class="level-left">
                        <span class="level-item">HEXO</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">t.cn</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://t.cn/AiOmM16n" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Easy Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">t.cn</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://t.cn/EJ3xzUk" target="_blank">
                    <span class="level-left">
                        <span class="level-item">图库</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">t.cn</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://t.cn/E6aRKaM" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Swift</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">t.cn</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://t.cn/R9X5EQw" target="_blank">
                    <span class="level-left">
                        <span class="level-item">阅后即焚</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">t.cn</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://t.cn/EMFRvKO" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Linux命令大全(手册)</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">t.cn</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://t.cn/AiWsBgSQ" target="_blank">
                    <span class="level-left">
                        <span class="level-item">张良计</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">t.cn</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://t.cn/AiWsB61N" target="_blank">
                    <span class="level-left">
                        <span class="level-item">飞鱼的博客</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">t.cn</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
    
    <div class="column-right-shadow is-hidden-widescreen is-sticky">
        
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/framework/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.loli.net/2019/07/20/5d32eb8e91e5a53488.jpg" alt="再谈iOS静态库">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-20T10:21:23.000Z">2019-07-20</time></div>
                    <a href="/framework/" class="has-link-black-ter is-size-6">再谈iOS静态库</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/dota/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.loli.net/2019/07/20/5d31f3b07288a13945.jpg" alt="iOS静态库">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-19T16:36:14.000Z">2019-07-20</time></div>
                    <a href="/dota/" class="has-link-black-ter is-size-6">iOS静态库</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/python3-notes03/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.loli.net/2019/07/18/5d308e702e23127788.jpg" alt="《Python札记》3_字符串基本操作">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-19T02:37:18.000Z">2019-07-19</time></div>
                    <a href="/python3-notes03/" class="has-link-black-ter is-size-6">《Python札记》3_字符串基本操作</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/python3-notes02/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.loli.net/2019/07/18/5d308e702e23127788.jpg" alt="《Python札记》2_IO文件操作">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-18T15:06:54.000Z">2019-07-18</time></div>
                    <a href="/python3-notes02/" class="has-link-black-ter is-size-6">《Python札记》2_IO文件操作</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/program/">program</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/python3-notes01/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.loli.net/2019/07/18/5d308e702e23127788.jpg" alt="《Python札记》1_列表list">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-18T14:55:41.000Z">2019-07-18</time></div>
                    <a href="/python3-notes01/" class="has-link-black-ter is-size-6">《Python札记》1_列表list</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/program/">program</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-i6+3-d-11+36" data-ad-client="ca-pub-3671867345973568" data-ad-slot="5440842480"></ins>
    <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

        
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/blog/">
            <span class="level-start">
                <span class="level-item">blog</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/label/">
            <span class="level-start">
                <span class="level-item">label</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/news/">
            <span class="level-start">
                <span class="level-item">news</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">11</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/notes/">
            <span class="level-start">
                <span class="level-item">notes</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">22</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/program/">
            <span class="level-start">
                <span class="level-item">program</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">58</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
        
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">五月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">九月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">六月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">五月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">四月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/02/">
                <span class="level-start">
                    <span class="level-item">二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">九月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">八月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">六月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/03/">
                <span class="level-start">
                    <span class="level-item">三月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">十月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">八月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/07/">
                <span class="level-start">
                    <span class="level-item">七月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/06/">
                <span class="level-start">
                    <span class="level-item">六月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">21</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/03/">
                <span class="level-start">
                    <span class="level-item">三月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/02/">
                <span class="level-start">
                    <span class="level-item">二月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/01/">
                <span class="level-start">
                    <span class="level-item">一月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/09/">
                <span class="level-start">
                    <span class="level-item">九月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/06/">
                <span class="level-start">
                    <span class="level-item">六月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2014/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2014</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2014/09/">
                <span class="level-start">
                    <span class="level-item">九月 2014</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2014/08/">
                <span class="level-start">
                    <span class="level-item">八月 2014</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2014/06/">
                <span class="level-start">
                    <span class="level-item">六月 2014</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2014/05/">
                <span class="level-start">
                    <span class="level-item">五月 2014</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2014/03/">
                <span class="level-start">
                    <span class="level-item">三月 2014</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2013/07/">
                <span class="level-start">
                    <span class="level-item">七月 2013</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Django/">
                        <span class="tag">Django</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hexo/">
                        <span class="tag">Hexo</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Markdown/">
                        <span class="tag">Markdown</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Node-js/">
                        <span class="tag">Node.js</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Python/">
                        <span class="tag">Python</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags//">
                        <span class="tag"></span>
                        <span class="tag is-grey">18</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
    </div>
    
</div>

                

<!-- 粘贴的部分 -->

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                    
                    <img src="https://api.netlify.com/api/v1/badges/463de27d-503e-4e61-9352-dbdf036876b6/deploy-status" alt="Camera" height="28">
                    
                </a>
                <p class="is-size-7">
                    &copy; 2019 policx&nbsp;
                    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> 🌏 <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                    
                    <br>
                    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
                    本站总访问量-<span id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i></span>-次 |
                    您是第-<span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span>-位访客
                    <br>
                    <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
                    <script>
                        var now = new Date();
                        function createtime() {
                            var grt = new Date("06/01/2019 00:00:00");//此处修改你的建站时间或者网站上线时间 
                            now.setTime(now.getTime() + 250);
                            days = (now - grt) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
                            hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
                            if (String(hnum).length == 1) { hnum = "0" + hnum; } minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);
                            mnum = Math.floor(minutes); if (String(mnum).length == 1) { mnum = "0" + mnum; }
                            seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
                            snum = Math.round(seconds); if (String(snum).length == 1) { snum = "0" + snum; }
                            document.getElementById("timeDate").innerHTML = "本站已安全运行 " + dnum + " 天 ";
                            document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
                        }
                        setInterval("createtime()", 250);
                    </script>
                    
                </p>
            </div>
            <div class="level-end">
                
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                    <img src="https://tool.lu/netcard/" height="80px" width="200px">
                    <script type="text/javascript" src="//rf.revolvermaps.com/0/0/2.js?i=5llb4uunz4b&amp;m=6&amp;s=130&amp;c=ff0000&amp;t=1" async="async"></script>
                </div>
                
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>